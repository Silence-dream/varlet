import{C as y}from"./index.bc1cc0f7.js";import{R as N}from"./index.e49719fd.js";import{d as P,r as T,f as r,E as V,_ as w,i as g,j as I,l as B,o as m,c as D,a as C,z as i,n as f,x as $,ad as K,k as L,V as Y,y as z,t as U}from"./elevation.4b2b848a.js";import{j as _,l as j,h as A,m as R,c as W}from"./components.21c4ed88.js";const b=Symbol("SELECT_BIND_OPTION_KEY"),h=Symbol("SELECT_COUNT_OPTION_KEY");function oe(){const{bindChildren:e,childProviders:o}=_(b),{length:n}=j(h);return{length:n,options:o,bindOptions:e}}function M(){const{bindParent:e,parentProvider:o}=A(b),{index:n}=R(h);if(!e||!o)throw Error("<var-option/> must in <var-select/>");return{index:n,select:o,bindSelect:e}}const q={label:{},value:{}};const{n:F,classes:G}=W("option"),H=P({name:"VarOption",directives:{Ripple:N},components:{VarCheckbox:y},props:q,setup(e){const o=T(!1),n=r(()=>o.value),d=r(()=>e.label),u=r(()=>e.value),{select:p,bindSelect:s}=M(),{wrapWidth:t,multiple:l,focusColor:S,onSelect:v}=p,k=()=>{o.value=!o.value,v(a)},E=()=>v(a),a={label:d,value:u,selected:n,sync:O=>{o.value=O}};return V([()=>e.label,()=>e.value],()=>{if(e.label==null&&e.value==null)throw Error(`Props label and value can't both be undefined
`)},{immediate:!0}),s(a),{n:F,classes:G,optionSelected:o,wrapWidth:t,multiple:l,focusColor:S,handleClick:k,handleSelect:E}}});function J(e,o,n,d,u,p){const s=g("var-checkbox"),t=I("ripple");return B((m(),D("div",{class:i(e.classes(e.n(),"var--box",[e.optionSelected,e.n("--selected-color")])),style:f({width:e.wrapWidth,color:e.optionSelected?e.focusColor:void 0}),onClick:o[2]||(o[2]=(...l)=>e.handleClick&&e.handleClick(...l))},[C("div",{class:i(e.classes(e.n("cover"),[e.optionSelected,e.n("--selected-background")])),style:f({background:e.optionSelected?e.focusColor:void 0})},null,6),e.multiple?(m(),$(s,{key:0,ref:"checkbox","checked-color":e.focusColor,modelValue:e.optionSelected,"onUpdate:modelValue":o[0]||(o[0]=l=>e.optionSelected=l),onClick:o[1]||(o[1]=K(()=>{},["stop"])),onChange:e.handleSelect},null,8,["checked-color","modelValue","onChange"])):L("v-if",!0),C("div",{class:i(e.classes(e.n("text"),"var--ellipsis"))},[Y(e.$slots,"default",{},()=>[z(U(e.label),1)])],2)],6)),[[t]])}var c=w(H,[["render",J]]);c.install=function(e){e.component(c.name,c)};export{c as O,oe as u};

var de=Object.defineProperty;var q=Object.getOwnPropertySymbols;var fe=Object.prototype.hasOwnProperty,ge=Object.prototype.propertyIsEnumerable;var X=(e,o,i)=>o in e?de(e,o,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[o]=i,z=(e,o)=>{for(var i in o||(o={}))fe.call(o,i)&&X(e,i,o[i]);if(q)for(var i of q(o))ge.call(o,i)&&X(e,i,o[i]);return e};import{A as T}from"./AppType.5c97583f.js";import{B as pe}from"./index.1ac96908.js";import{j as Ce,l as he,c as j,a as A,i as Ne,h as Be,m as ye}from"./components.21c4ed88.js";import{d as x,r as d,f as O,E as G,D as Ie,af as Ae,_ as ee,i as R,o as k,c as P,V as M,x as D,p as u,X as ae,k as $,z as U,n as le,j as ke,l as Ee,a as Te,F as te,y,t as I,m as l,ah as a}from"./elevation.4b2b848a.js";import{R as _e}from"./index.e49719fd.js";import{B as Se}from"./index.c002423d.js";import{I as ne}from"./index.520d7afd.js";import{S as J}from"./index.dafda83c.js";import{d as Fe}from"./index.5d153c96.js";import{u as Oe,a as oe,_ as $e,b as Ue,c as Pe}from"./en-US.c00b1940.js";import{w as Me,a as De}from"./utils.782338de.js";import"./index.e117c112.js";import"./index.eb1d562b.js";/* empty css               */import"./elements.eca917ca.js";import"./zIndex.bf5fc216.js";import"./lock.97aa2730.js";const Ve={active:{type:[Number,String],default:0},fixed:{type:Boolean,default:!1},border:{type:Boolean,default:!1},safeArea:{type:Boolean,default:!1},zIndex:{type:[Number,String],default:1},activeColor:{type:String},inactiveColor:{type:String},onChange:{type:Function},"onUpdate:active":{type:Function},onBeforeChange:{type:Function},onFabClick:{type:Function},fabProps:{type:Object}},ie=Symbol("BOTTOM_NAVIGATION_BIND_BOTTOM_NAVIGATION_ITEM_KEY"),se=Symbol("BOTTOM_NAVIGATION_COUNT_BOTTOM_NAVIGATION_ITEM_KEY");function Le(){const{childProviders:e,bindChildren:o}=Ce(ie),{length:i}=he(se);return{length:i,bottomNavigationItems:e,bindBottomNavigationItem:o}}const{n:we,classes:ze}=j("bottom-navigation"),{n:V}=j("bottom-navigation-item"),Q=V("--right-half-space"),W=V("--left-half-space"),Z=V("--right-space"),Ge={type:"primary"},Re=x({name:"VarBottomNavigation",components:{VarButton:pe},props:Ve,setup(e,{slots:o}){const i=d(null),v=O(()=>e.active),f=O(()=>e.activeColor),h=O(()=>e.inactiveColor),b=d({}),{length:m,bottomNavigationItems:N,bindBottomNavigationItem:g}=Le(),_=()=>{m.value===0||E()||B()||s()},E=()=>N.find(({name:c})=>v.value===c.value),B=()=>N.find(({index:c})=>v.value===c.value),s=()=>{!Ne(v.value)||(v.value<0?A(e["onUpdate:active"],0):v.value>m.value-1&&A(e["onUpdate:active"],m.value-1))},r=c=>{e.onBeforeChange?re(c):H(c)},re=c=>{Promise.resolve(A(e.onBeforeChange,c)).then(p=>p&&H(c))},H=c=>{A(e["onUpdate:active"],c),A(e.onChange,c)},ue=()=>{Y().forEach(p=>{p.classList.remove(Q,W,Z)})},K=c=>{const p=Y(),S=p.length,F=c%2===0;p.forEach((L,w)=>{me(F,L,w,S)})},me=(c,p,S,F)=>{const L=S===F-1;if(!c&&L){p.classList.add(Z);return}const w=S===F/2-1,be=S===F/2;w?p.classList.add(Q):be&&p.classList.add(W)},Y=()=>Array.from(i.value.querySelectorAll(`.${V()}`)),ve=()=>{A(e.onFabClick)};return g({active:v,activeColor:f,inactiveColor:h,onToggle:r}),G(()=>m.value,_),G(()=>e.fabProps,c=>{b.value=z(z({},Ge),c)},{immediate:!0,deep:!0}),Ie(()=>{!o.fab||K(m.value)}),Ae(()=>{ue(),o.fab&&K(m.value)}),{n:we,classes:ze,length:m,bottomNavigationDom:i,handleFabClick:ve,fabProps:b}}});function je(e,o,i,v,f,h){const b=R("var-button");return k(),P("div",{class:U(e.classes(e.n(),[e.fixed,e.n("--fixed")],[e.border,e.n("--border")],[e.safeArea,e.n("--safe-area")])),ref:"bottomNavigationDom",style:le(`z-index:${e.zIndex}`)},[M(e.$slots,"default"),e.$slots.fab?(k(),D(b,ae({key:0,class:e.classes(e.n("fab"),[e.length%2,e.n("--fab-right"),e.n("--fab-center")]),"var-bottom-navigation__fab":"",onClick:e.handleFabClick},e.fabProps,{round:""}),{default:u(()=>[M(e.$slots,"fab")]),_:3},16,["class","onClick"])):$("v-if",!0)],6)}var C=ee(Re,[["render",je]]);C.install=function(e){e.component(C.name,C)};const He={name:{type:String},icon:{type:String},label:{type:String},namespace:{type:String,default:"var-icon"},badge:{type:[Boolean,Object],default:!1},onClick:{type:Function}};function Ke(){const{parentProvider:e,bindParent:o}=Be(ie),{index:i}=ye(se);if(!e||!o||!i)throw Error("<var-bottom-navigation-item/> must in <var-bottom-navigation/>");return{index:i,bottomNavigation:e,bindBottomNavigation:o}}const{n:Ye,classes:qe}=j("bottom-navigation-item"),Xe={type:"danger",dot:!0},Je=x({name:"VarBottomNavigationItem",components:{VarBadge:Se,VarIcon:ne},directives:{Ripple:_e},props:He,setup(e){const o=O(()=>e.name),i=O(()=>e.badge),v=d({}),{index:f,bottomNavigation:h,bindBottomNavigation:b}=Ke(),{active:m,activeColor:N,inactiveColor:g}=h,_={name:o,index:f},E=()=>m.value===o.value||m.value===f.value?N.value:g.value,B=()=>{const s=o.value||f.value;A(e.onClick,s),A(h.onToggle,s)};return b(_),G(()=>i.value,s=>{v.value=s===!0?Xe:i.value},{immediate:!0}),{n:Ye,classes:qe,index:f,active:m,badge:i,badgeProps:v,computeColorStyle:E,handleClick:B}}});function Qe(e,o,i,v,f,h){const b=R("var-icon"),m=R("var-badge"),N=ke("ripple");return Ee((k(),P("button",{class:U(e.classes(e.n(),[e.active===e.index||e.active===e.name,e.n("--active")])),style:le({color:e.computeColorStyle()}),onClick:o[0]||(o[0]=(...g)=>e.handleClick&&e.handleClick(...g))},[e.icon&&!e.$slots.icon?(k(),D(b,{key:0,name:e.icon,namespace:e.namespace,class:U(e.n("icon")),"var-bottom-navigation-item-cover":""},null,8,["name","namespace","class"])):$("v-if",!0),M(e.$slots,"icon",{active:e.active===e.index||e.active===e.name}),e.badge?(k(),D(m,ae({key:1},e.badgeProps,{class:e.n("badge"),"var-bottom-navigation-item-cover":""}),null,16,["class"])):$("v-if",!0),Te("span",{class:U(e.n("label"))},[e.$slots.default?$("v-if",!0):(k(),P(te,{key:0},[y(I(e.label),1)],2112)),M(e.$slots,"default")],2)],6)),[[N]])}var n=ee(Je,[["render",Qe]]);n.install=function(e){e.component(n.name,n)};var We={basicUsage:"\u57FA\u672C\u4F7F\u7528",matchByName:"\u901A\u8FC7\u540D\u79F0\u5339\u914D",showBadge:"\u5FBD\u6807\u63D0\u793A",customColor:"\u81EA\u5B9A\u4E49\u989C\u8272",changeEvent:"\u76D1\u542C\u5207\u6362\u4E8B\u4EF6",clickEvent:"\u76D1\u542C\u70B9\u51FB\u4E8B\u4EF6",fab:"\u60AC\u6D6E\u6309\u94AE",label:"\u6807\u7B7E"},Ze={basicUsage:"Basic Usage",matchByName:"Match by name",showBadge:"Show Badge",customColor:"Custom Color",changeEvent:"Change Event",clickEvent:"Click Event",fab:"Fab",label:"label"};const{add:ce,use:xe,pack:t,packs:Na,merge:Ba}=Oe(),ea=e=>{Pe(e),xe(e)};oe("zh-CN",$e);oe("en-US",Ue);ce("zh-CN",We);ce("en-US",Ze);const ya={setup(e){const o=d(0),i=d("home"),v=d(0),f={type:"primary",value:"66"},h=d(0),b=d(0);function m(B){J.info(`changed to ${B}`)}const N=d(0);function g(B){J.success(`clicked ${B}`)}const _=d(0),E=d(!0);return Me(ea),De(Fe),(B,s)=>(k(),P(te,null,[l(a(T),null,{default:u(()=>[y(I(a(t).basicUsage),1)]),_:1}),l(a(C),{active:o.value,"onUpdate:active":s[0]||(s[0]=r=>o.value=r)},{default:u(()=>[l(a(n),{label:a(t).label,icon:"home"},null,8,["label"]),l(a(n),{label:a(t).label,icon:"magnify"},null,8,["label"]),l(a(n),{label:a(t).label,icon:"heart"},null,8,["label"]),l(a(n),{label:a(t).label,icon:"account-circle"},null,8,["label"])]),_:1},8,["active"]),l(a(T),null,{default:u(()=>[y(I(a(t).matchByName),1)]),_:1}),l(a(C),{active:i.value,"onUpdate:active":s[1]||(s[1]=r=>i.value=r)},{default:u(()=>[l(a(n),{name:"home",label:a(t).label,icon:"home"},null,8,["label"]),l(a(n),{name:"search",label:a(t).label,icon:"magnify"},null,8,["label"]),l(a(n),{name:"heart",label:a(t).label,icon:"heart"},null,8,["label"]),l(a(n),{name:"user",label:a(t).label,icon:"account-circle"},null,8,["label"])]),_:1},8,["active"]),l(a(T),null,{default:u(()=>[y(I(a(t).showBadge),1)]),_:1}),l(a(C),{active:v.value,"onUpdate:active":s[2]||(s[2]=r=>v.value=r)},{default:u(()=>[l(a(n),{label:a(t).label,icon:"home"},null,8,["label"]),l(a(n),{label:a(t).label,icon:"magnify",badge:""},null,8,["label"]),l(a(n),{label:a(t).label,icon:"heart",badge:f},null,8,["label"]),l(a(n),{label:a(t).label,icon:"account-circle"},null,8,["label"])]),_:1},8,["active"]),l(a(T),null,{default:u(()=>[y(I(a(t).customColor),1)]),_:1}),l(a(C),{"active-color":"#ba68c8",active:h.value,"onUpdate:active":s[3]||(s[3]=r=>h.value=r)},{default:u(()=>[l(a(n),{label:a(t).label,icon:"home"},null,8,["label"]),l(a(n),{label:a(t).label,icon:"magnify"},null,8,["label"]),l(a(n),{label:a(t).label,icon:"heart"},null,8,["label"]),l(a(n),{label:a(t).label,icon:"account-circle"},null,8,["label"])]),_:1},8,["active"]),l(a(T),null,{default:u(()=>[y(I(a(t).changeEvent),1)]),_:1}),l(a(C),{active:b.value,"onUpdate:active":s[4]||(s[4]=r=>b.value=r),onChange:m},{default:u(()=>[l(a(n),{label:a(t).label,icon:"home"},null,8,["label"]),l(a(n),{label:a(t).label,icon:"magnify"},null,8,["label"]),l(a(n),{label:a(t).label,icon:"heart"},null,8,["label"]),l(a(n),{label:a(t).label,icon:"account-circle"},null,8,["label"])]),_:1},8,["active"]),l(a(T),null,{default:u(()=>[y(I(a(t).clickEvent),1)]),_:1}),l(a(C),{active:N.value,"onUpdate:active":s[5]||(s[5]=r=>N.value=r)},{default:u(()=>[l(a(n),{onClick:g,label:a(t).label,icon:"home"},null,8,["label"]),l(a(n),{onClick:g,label:a(t).label,icon:"magnify"},null,8,["label"]),l(a(n),{onClick:g,label:a(t).label,icon:"heart"},null,8,["label"]),l(a(n),{onClick:g,label:a(t).label,icon:"account-circle"},null,8,["label"])]),_:1},8,["active"]),l(a(T),null,{default:u(()=>[y(I(a(t).fab),1)]),_:1}),l(a(C),{active:_.value,"onUpdate:active":s[6]||(s[6]=r=>_.value=r),onFabClick:s[7]||(s[7]=r=>E.value=!E.value),style:{"margin-top":"10px"}},{fab:u(()=>[l(a(ne),{name:"heart"})]),default:u(()=>[l(a(n),{label:a(t).label,icon:"home"},null,8,["label"]),l(a(n),{label:a(t).label,icon:"magnify"},null,8,["label"]),l(a(n),{label:a(t).label,icon:"heart"},null,8,["label"]),l(a(n),{label:a(t).label,icon:"bell"},null,8,["label"]),E.value?$("v-if",!0):(k(),D(a(n),{key:0,label:a(t).label,icon:"account-circle"},null,8,["label"]))]),_:1},8,["active"])],64))}};export{ya as default};
